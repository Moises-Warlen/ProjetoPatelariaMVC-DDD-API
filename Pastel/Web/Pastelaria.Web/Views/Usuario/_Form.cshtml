
@{ Layout = null; }
@using System.Linq
@model Pastelaria.Web.Application.Usuario.Model.EditarUsuarioModel
<div id="div-atualizar-usuario">
    <br>
    <div>
        <h4>Editar Usuário </h4>
    </div>

    <br>
    
    <div id="formUsuario">
        <div class="row">
            <input type="hidden" name="IdUsuario" value="@Model.Usuario.IdUsuario"/>
            <div class="col-sm-2 mb-2">
                <label for="nome" class="sr-only">Nome</label>
                <input type="text" class="form-control nome" id="nome" placeholder="Nome" value="@Model.Usuario.Nome" name="Nome">
            </div>
            <div class="col-sm-3 mb-2">
                <label for="email" class="sr-only">Email</label>
                <input type="email" class="form-control email" id="email" placeholder="Email" value="@Model.Usuario.Email" name="Email">
            </div>
            <div class="col-sm-2 mb-1">
                <label for="senha" class="sr-only">Senha</label>
                <input type="password" class="form-control senha" id="senha" placeholder="Senha" value="@Model.Usuario.Senha" name="Senha">
            </div>
            <div class="col-sm-2 mb-2">
                <label for="datanascimento" class="sr-only">Data de Nascimento</label>
                <input type="date" class="form-control datanascimento" id="datanascimento" placeholder="Data de Nascimento" value="@Model.Usuario.DataNascimento" name="DataNascimento">
            </div>
            <div class="col-sm-2 mb-2" title="Perfil">
                <label for="perfil" class="sr-only">Perfil</label>
                <select class="form-control select perfil" id="perfil" name="Perfil.IdPerfil">
                    <option value="">Perfil</option>
                    @foreach (var perfil in Model.Perfil)
                    {
                        @*<option value="@perfil.IdPerfil" @(perfil.IdPerfil == Model.Usuario.Perfil.IdPerfil ? "selected" : "") >@perfil.IdPerfil</option>*@

                        <option value="@perfil.IdPerfil" @(perfil.IdPerfil )>@perfil.IdPerfil</option>
                    }
                </select>
            </div>
            <div class="col-sm-2 mb-2" title="Gestor">
                <label for="gestor" class="sr-only">Gestor</label>
                <select class="form-control select gestor" id="gestor" name="Gestor.IdUsuario">
                    <option value=""> Gestores</option>
                    @foreach (var gestor in Model.Gestores)
                    {
                        @*<option value="@gestor.IdUsuario" @(gestor.IdUsuario == Model.Usuario.Gestor.IdUsuario ? "selected" : "")>@gestor.Nome</option>*@
                        <option value="@gestor.IdUsuario" @(gestor.IdUsuario )>@gestor.Nome</option>
                    }
                </select>
            </div>
        </div>
    </div>
    <br />
    <br />

    <div>
        <h5>
            Telefones
            <a onclick="usuarios.buscarTelaAdicionarTelefone()" class="btn btn-success btn-sm float-right" title="Adicionar Novo Telefone">
                <i class="fas fa-plus-circle"></i>
            </a>
        </h5>
        <div id="formTelefone" style="display: none">@Html.Partial("~/Views/Telefone/AdicionarTelefone.cshtml")</div>
    </div>
    <!-- lista de telefone do usuario-->
    <div id="div-grid-telefone"> @Html.Partial("~/Views/Telefone/_GridTelefones.cshtml", Model.Usuario.Telefones) </div>  <!-- Aqui sera reenderizado Dados do Endereço-->

    <hr />
    <br /><br />

    <div>
        <h5>
            Endereços
            <a onclick="usuarios.buscarTelaAdicionarEndereco()" class="btn btn-success btn-sm float-right" title="Adicionar Novo  Endereço">
                <i class="fas fa-plus-circle"></i>
            </a>

        </h5>
        <div id="formEndereco" style="display: none">@Html.Partial("~/Views/Endereco/AdicionarEndereco.cshtml")</div>
    </div>
    <!-- lista de endereços do usuario-->

    <div id="div-grid-endereco"> @Html.Partial("~/Views/Endereco/_GridEnderecos.cshtml", Model.Usuario.Enderecos)</div>

    <hr />
    <br /><br />


    <a onclick="location.reload()" class="btn btn-warning btn-sm" title="cancelar e voltar para lista de usuarios">CANCELAR </a>

    <button type="button" class="btn btn-success btn-sm" title="salvar usuario" onclick="usuarios.salvar()">
        SALVAR
    </button>
</div>
